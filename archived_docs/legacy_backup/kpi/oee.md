# OEE - 设备综合效率 (Overall Equipment Effectiveness)

## 定义

OEE 是衡量设备实际生产能力相对于理论生产能力的比率，是生产效率的核心指标。

---

## 📊 计算公式

### 基础公式

\[
OEE = \text{时间稼动率} \times \text{性能稼动率} \times \text{良品率}
\]

### 详细计算

\[
OEE(\%) = \frac{\text{实际运行时间}}{\text{计划生产时间}} \times \frac{\text{实际产量} \times \text{标准周期时间}}{\text{实际运行时间}} \times \frac{\text{合格品数量}}{\text{总产量}} \times 100\%
\]

其中：
- **时间稼动率** = 实际运行时间 / 计划生产时间
- **性能稼动率** = (实际产量 × 标准周期时间) / 实际运行时间  
- **良品率** = 合格品数量 / 总产量

---

## 📋 字段说明

| 字段名 | 英文名 | 数据类型 | 描述 | 示例 | 数据来源 |
|--------|--------|----------|------|------|----------|
| 计划生产时间 | PlannedTime | 小时 | 设备计划运行的总时间 | 24.0 | MES 系统 |
| 实际运行时间 | ActualTime | 小时 | 设备实际运行的时间 | 20.5 | MES 系统 |
| 实际产量 | ActualQuantity | 数量 | 实际生产的产品数量 | 1,200 | MES 系统 |
| 标准周期时间 | CycleTime | 分钟/件 | 理论上生产一件产品所需时间 | 1.0 | 工艺标准 |
| 合格品数量 | GoodQuantity | 数量 | 质量检验合格的产品数量 | 1,150 | MES 系统 |
| 总产量 | TotalQuantity | 数量 | 生产的产品总数量（含不良品） | 1,200 | MES 系统 |

---

## 📈 计算逻辑

### 计算步骤

1. **计算时间稼动率**
   ```python
   availability_rate = actual_time / planned_time
   ```

2. **计算性能稼动率**
   ```python
   performance_rate = (actual_quantity * standard_cycle_time) / actual_time
   ```

3. **计算良品率**
   ```python
   quality_rate = good_quantity / total_quantity
   ```

4. **计算OEE**
   ```python
   oee = availability_rate * performance_rate * quality_rate * 100
   ```

### 边界条件处理

- **除零保护**：当计划生产时间为0时，时间稼动率设为0
- **数据校验**：确保实际产量、合格品数量不为负数
- **时间单位统一**：所有时间数据统一转换为小时进行计算

---

## 🎯 目标值

- **整体目标**：≥ 85%
- **各分项目标**：
  - 时间稼动率：≥ 90%
  - 性能稼动率：≥ 95%
  - 良品率：≥ 99%

---

## 📊 数据来源

| 数据源 | 描述 | 更新频率 | 主要用途 |
|--------|------|----------|----------|
| MES 系统 | 生产执行记录，包含设备运行状态、产量数据 | 实时 | 核心计算数据 |
| 设备监控系统 | 设备运行时间、停机记录 | 实时 | 时间稼动率计算 |
| 工艺标准 | 产品标准周期时间 | 月度 | 性能基准 |

---

## ⚠️ 重要说明

### 计算注意事项

1. **时间范围**：OEE 计算通常按班次或日进行统计
2. **设备状态**：仅统计计划内生产时间，排除计划停机
3. **质量标准**：良品率统计以最终检验结果为准

### 常见问题

- **OEE 过低**：通常由设备故障、换型时间长或质量问题导致
- **性能稼动率低**：可能存在速度损失或小停机问题
- **时间稼动率低**：检查设备故障率和计划外停机

---

## 🔗 相关链接

- [生产部门 KPI 总览](production.md)
- [PCP - 生产计划完成率](pcp.md)
- [CT - 生产周期时间](cycle-time.md)
