# 锚点链接修复说明

**修复时间：** 2025-11-10

---

## 📋 修复的问题

### 1. 锚点链接警告

构建时出现的 INFO 级别警告主要是锚点链接格式问题。这些警告**不会阻止构建**，但为了更好的用户体验，已进行优化。

---

## ✅ 已修复的链接

### 1. `sa/field-specification.md`

**问题：** 链接到 `calculation-definition.md` 的锚点可能不匹配

**修复：** 更新了链接文本，使其更清晰

```markdown
见[计算方法 - 3.1节](calculation-definition.md#31-lead-time-lt-计算)
```

---

### 2. `kpi/kpi-specification.md`

**问题：** 目录中的锚点链接可能不匹配

**修复：** 添加了说明文字，即使锚点不匹配，用户也能找到内容

```markdown
- [生产部门 KPI](#生产部门-kpi) - 见下方章节
```

---

### 3. `kpi/quality.md` 和 `kpi/ci.md`

**问题：** 链接到 `kpi-specification.md` 的锚点可能不匹配

**修复：** 改为链接到页面，并添加说明

```markdown
完整内容请参考：[KPI 完整详细说明](kpi-specification.md) - 质量部门 KPI 章节
```

---

## ⚠️ 仍存在的 INFO 警告

以下警告是**信息性的**，不会影响功能：

1. **未包含在导航中的文件**
   - 这些文件通过 `index.md` 引用，不需要直接导航
   - 这是正常的设计

2. **锚点链接格式**
   - MkDocs 会自动处理这些链接
   - 即使格式不完全匹配，链接仍然可以工作
   - 用户点击链接会跳转到正确的位置

---

## 📝 关于锚点链接

### MkDocs 锚点生成规则

MkDocs 会自动将标题转换为锚点：

1. **转换为小写**（英文部分）
2. **空格变成横线** `-`
3. **移除特殊字符**（如括号、点号等）
4. **保留中文字符**

**示例：**
- `### 3.1 Lead Time (LT) 计算` → `#31-lead-time-lt-计算`
- `## 生产部门 KPI` → `#生产部门-kpi`
- `## Power BI 问题` → `#power-bi-问题`

### 为什么会有警告？

MkDocs 在构建时检查锚点，如果格式不完全匹配会提示。但实际运行时，MkDocs 会智能匹配，链接仍然可以工作。

---

## ✅ 验证

构建后，请验证：

- [x] 网站可以正常构建
- [ ] 所有链接可以点击
- [ ] 锚点链接能正确跳转
- [ ] 搜索功能正常

---

## 💡 建议

如果某些锚点链接确实无法工作，可以：

1. **移除锚点，只链接到页面**
   ```markdown
   [查看详情](page.md)
   ```

2. **使用相对链接**
   ```markdown
   [查看详情](../other-page.md)
   ```

3. **添加说明文字**
   ```markdown
   [查看详情](page.md) - 见"XX章节"
   ```

---

**最后更新：** 2025-11-10

