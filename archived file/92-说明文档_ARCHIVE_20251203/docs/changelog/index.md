# 更新日志

本页面记录 CZ Ops 数字化数据平台电子说明书的所有重要更新。

---

## 📋 版本历史

| 版本 | 日期 | 主要更新 | 详情 |
|------|------|----------|------|
| v1.1 | 2025-11-10 | 导航结构优化 + 24小时工作制 | [查看详情](#v11-2025-11-10) |
| v1.0 | 2025-11-10 | 初始版本发布 | [查看详情](#v10-2025-11-10) |

---

## v1.1 (2025-11-10)

### 🎨 导航结构优化

**重大改进：** 重组 KPI 指标体系导航结构

**详细变更：**

1. **SA 指标归属调整**
   - 从独立顶级菜单调整为供应链 KPI 的子项
   - 更准确反映 SA 在 KPI 体系中的位置
   - 便于未来添加其他供应链指标

2. **简化 KPI 页面**
   - 取消 `kpi-specification.md` 详细说明页面
   - 内容整合到 `kpi/index.md` 概述页面
   - 减少页面跳转，提升用户体验

3. **增强导航功能**
   - 顶部导航：固定标签 + 下拉菜单
   - 左侧导航：自动展开 + 章节索引
   - 右侧目录：保持独立，跟随滚动

4. **新的导航结构**
   ```
   KPI 指标体系/
   ├── KPI 概述
   ├── 供应链 KPI/
   │   ├── 供应链 KPI 概述
   │   └── SA - 计划达成率/  ← 新位置
   │       ├── SA 概述
   │       ├── 计算方法与定义
   │       ├── 字段说明
   │       ├── 数据源说明
   │       └── 计算示例
   ├── 生产部门 KPI
   ├── 质量部门 KPI
   └── 持续改进 KPI
   ```

**影响范围：**
- ✅ 导航配置文件 (`mkdocs.yml`)
- ✅ KPI 概述页面 (`kpi/index.md`)
- ✅ 供应链 KPI 页面 (`kpi/supply-chain.md`)
- ✅ SA 概述页面 (`kpi/sa.md`)
- ✅ 首页导航 (`index.md`)

**用户影响：**
- 查找 SA 指标路径变更：顶部 [KPI指标体系] → [供应链 KPI] → [SA - 计划达成率]
- 页面跳转减少，内容更集中
- 导航体验更流畅

---

### ⚠️ SA 计算方法更新

**重要变更：** SA 计算更新为 24 小时连续工作制

**核心变更：**

DueTime 计算从 8 小时工作制改为 24 小时连续工作制

**变更前：**
```python
if is_workday:
    daily_hours = min(remaining_hours, 8)  # 8小时
else:
    weekend_hours += 8
```

**变更后：**
```python
if is_workday:
    daily_hours = min(remaining_hours, 24)  # 24小时连续工作
else:
    weekend_hours += 24
```

**业务影响：**

1. **DueTime 计算更快**
   - 标准时间 126 小时
   - 8小时制：需要 ~16 工作日
   - 24小时制：需要 ~6 工作日

2. **更准确反映实际情况**
   - 生产线 24 小时连续运作
   - DueTime 更符合实际生产节奏

3. **配置参数更新**
   ```yaml
   processing:
     daily_work_hours: 24  # 从 8 改为 24
   ```

**影响文档：**
- ✅ `kpi/sa.md#-计算方法与定义` - 算法代码
- ✅ `kpi/sa.md#-字段说明` - 字段说明
- ✅ `kpi/sa.md#-计算示例` - 计算示例
- ✅ `etl/configuration.md` - 配置说明
- ✅ `etl/index.md` - ETL 概述
- ✅ `etl/etl-process.md` - 处理流程
- ✅ `guide/faq.md` - 常见问题

**注意事项：**
- ⚠️ 历史数据对比需注意计算方式差异
- ⚠️ ETL 配置文件需确保 `daily_work_hours = 24`
- ⚠️ 建议重新计算历史 DueTime 以保持一致性

---

### 🐛 问题修复

1. **Git 插件配置**
   - 添加 `fallback_to_build_date: true`
   - 解决没有 git 仓库时的错误

2. **浏览器启动命令**
   - 移除有编码问题的自动打开命令
   - 改为手动打开提示

---

## v1.0 (2025-11-10)

### 🎉 初始版本发布

**首次创建 CZ Ops 数字化数据平台电子说明书**

**完成内容：**

1. **MkDocs 平台搭建**
   - Material 主题配置
   - 中文搜索支持
   - 响应式设计
   - 亮/暗主题切换

2. **SA 指标完整文档**
   - SA 概述和定义
   - 详细计算方法（LT/PT/ST/DueTime）
   - 完整字段说明（50+ 字段）
   - 数据源和 ETL 流程
   - 5个实际计算示例

3. **KPI 指标体系框架**
   - KPI 概述
   - 生产部门 KPI（7个指标）
   - 质量部门 KPI（占位符）
   - 持续改进 KPI（占位符）
   - 供应链 KPI（占位符）

4. **ETL 数据处理文档**
   - ETL 流程概述
   - 详细处理步骤（12步）
   - SA/SFC 数据清洗说明
   - 标准时间处理
   - 配置文件详解

5. **Power Query 代码**
   - PQ 概述
   - MES/SFC 报工记录查询
   - 增量刷新方案

6. **使用指南**
   - 快速开始指南
   - 数据更新流程（详细步骤）
   - 常见问题 FAQ（20+ 问题）
   - 故障排查指南

7. **项目管理文档**
   - 项目定义（占位符）
   - 实施计划（占位符）
   - 会议纪要（占位符）

8. **参考信息**
   - 文件命名规范
   - 字典表说明
   - 更新日志

**技术特性：**
- ✅ 智能搜索（中英文）
- ✅ 代码高亮
- ✅ 数学公式支持
- ✅ 流程图支持（Mermaid）
- ✅ 离线使用支持
- ✅ 自动生成导航

**文件统计：**
- 📄 文档页面：40+
- 📝 Markdown 文件：45+
- 🎨 配置文件：3
- 🚀 启动脚本：3

---

## 📅 未来计划

### v1.2 计划功能

- [ ] 完善其他 KPI 指标文档
  - OTD（准时交付率）
  - Inventory Turns（库存周转率）
  - 其他供应链指标
  
- [ ] 添加更多计算示例
  - 复杂场景示例
  - 异常情况处理
  
- [ ] 增强 Power Query 文档
  - 详细代码解释
  - 性能优化技巧
  
- [ ] 补充项目管理文档
  - 完整的项目定义
  - 实施计划详情
  - 会议纪要归档

### v2.0 愿景

- [ ] 交互式计算器
- [ ] 视频教程
- [ ] API 文档
- [ ] 数据质量监控集成

---

## 📞 反馈与建议

如有问题或建议，请联系：
- CZ Ops 数字化团队
- 数据平台技术支持组

---

**最后更新：** 2025-11-10

