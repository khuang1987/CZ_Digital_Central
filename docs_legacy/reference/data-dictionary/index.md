# 数据字典

本章节提供完整的数据字段定义、映射关系和计算逻辑说明。

## 📚 文档索引

| 文档 | 说明 | 适用人群 |
|------|------|---------|
| [字段映射表](field-mapping.md) | 原始字段到数据库字段的映射关系 | 开发者 |
| [计算逻辑说明](calculation-logic.md) | LT/PT/ST 等指标的计算公式 | 用户 + 开发者 |
| [跨表对照总表](cross-table-reference.md) | 业务概念在各表中的字段对应 | 用户 + 开发者 |

## 🔑 核心概念

### 业务主键

| 概念 | 说明 | 样例值 |
|------|------|--------|
| **BatchNumber** | 批次号，生产批次的唯一标识 | `K25L3206`, `K23J3311-009` |
| **Operation** | 工序号，生产工序编号 | `10`, `20`, `90` |
| **CFN** | 图纸号（Customer Facing Number） | `5597511-01`, `5485008VSF` |
| **Group** | 工艺组编号，用于与SAP匹配 | `50258250`, `50218648` |

### 关联键

| 关联关系 | 关联键 | 用途 |
|---------|--------|------|
| MES ↔ SFC | `BatchNumber` + `Operation` | 获取 TrackInTime |
| MES ↔ SAP | `CFN` + `Operation` + `Group` | 获取标准工时 |

## 📊 数据源概览

| 数据源 | 数据库表 | 主要用途 |
|--------|---------|---------|
| MES Excel | `raw_mes` | 批次产出记录、报工时间 |
| SFC Excel | `raw_sfc` | TrackIn时间、报废数量 |
| SAP Routing Excel | `raw_sap_routing` | 标准工时、OEE、调试时间 |

## 🧮 计算指标

| 指标 | 全称 | 说明 |
|------|------|------|
| **LT(d)** | Lead Time | 实际加工时间（天），从进入工序到报工 |
| **PT(d)** | Process Time | 实际加工时间（天），考虑停产期 |
| **ST(d)** | Standard Time | 理论加工时间（天），基于标准工时计算 |
| **IsSetup** | 是否换型 | 同机台上下批次CFN是否变化 |
